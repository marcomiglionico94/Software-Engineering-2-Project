\section{External Interface Requirements}

\subsection{User Interfaces}
The user interfaces must satisfy the following UI constraints:
\begin{description}
\item[Mobile App:]
	\begin{itemize}
	\item The iOS version must adhere to the iOS Human Interface Guide-lines
	\item The Android version must follow Android design guidelines;
	\item If the user did not logged in before in his/her current device the app must show him/her the login page;
	\item From the lateral panel that appears when the user presses the menu button he/she must be able to change his/her data and to see his/her status (so for example if he/she has pending payment) and to reach an help page,;
	\item In the help page of the mobile app there is a button that when it is pressed the user can call the PowerEnJoy help center if he/she needs further help respect to what is written in the help page;
	\item The refresh button can be pressed by the user in order to update the current available cars, including their battery level;
	\item UI controls and views must be suitable for the input interface and the screen size.
	\end{itemize}
\item[Server back-end]
	\begin{itemize}
	\item The server back-end must be configurable by means of a configuration text file.
	\end{itemize}
\item[Tablet on-board:]
	\begin{itemize}
	\item The tablet must let the user enable the money saving option. After that the user must be able to insert his/her destination.
	\item The interface must follow Android design guidelines;
	\end{itemize}
\item[Common to car tablet and Mobile app:]
\begin{itemize}
	\item The interface must offer the possibility to choose the language used between the available ones;
	\item The interface must follow Android design guidelines;
	\item The compilation of data fields has to be made with suitable controls like multiple choice, date picker or text field in order to simplify the user experience;
	\item If the user press on a power grid station, the app has to tell him how many free plugs there are there.
	\end{itemize}
\end{description}

\subsection{Hardware Interfaces}
\begin{description}
	\item [Panic button:] when the panic button is pressed the HandyCar board must send a message to the system to notify that in that car there is something wrong. The message must contain an ID that identifies the car from which it was pressed.
\end{description}

\subsection{Software Interfaces}
\begin{itemize}
\item The mobile app must run on both Android 4.0.3+ and IOS 8+.
\item The payment gateway and the motorization gateway has to communicate via HTTPS in order to ensure security.
\item Both payment gateway and motorization gateway expect a POST on their server in order to begin a transaction and the payload must be in JSON format. Every transition is very simple, because after the post they will respond to us with another POST, where the payload is composed by a "yes/no" plus further optional information.
\end{itemize}

In the next subsections we will see more in detail the services offered by the Payment gateway and the motorization gateway.

\subsubsection{Payment gateway}
The payment gateway offers to our system these two services:
\begin{itemize}
\item check if the payment information of a user are valid;
\item execute a payment.
\end{itemize}

For the first point, the response will be "yes" if the information are valid and "no" otherwise.

For what regards the second one, the response will be "yes" if the payment was executed correctly and "no" otherwise.

\subsubsection{Motorization gateway}
The motorization gateway offers the following two services:
\begin{itemize}
\item check if the driving licence and the document matches with the other data provided from the user (except the payment information);
\item forward a fine that the company received to the motorization.
\end{itemize}

For the first service, the response will be "yes" if the information are valid and "no" otherwise.

For the second point, the system must send the content of the fine, the information of the car to what the fine was addressed and the driving licence number of the user that was driving it. The response from the motorization is not expected, so if it arrives it will be ignored.

\subsection{Communication Interfaces}
The mobile app, the tablet in the car, the HandyCar Board and the remote system itself communicate with each other through HTTPS requests (port 443). In this way we ensure that everything that is sent on the internet is encrypted.
